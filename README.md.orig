# Linux kernel module for the Thrustmaster T300RS wheel

## Current state
Playable. Dynamic updating of effects isn't baked into the wheel quite as
well as I'd hoped, and so the driver in its current state doesn't really
support it. At some point in the future I'd like to add it to the feature
list, but it will need a lot more research and might take a while.

One other issue is that if you have the T3PA pedals, the clutch doesn't seem
to be registered by most(all?) games. It is registered and works as expected
in jstest and jstest-gtk, no clue what that is about.

Anycase, **this version is usable in most force feedback games, supports
rangesetting as well as gain and autocentering along with most force feedback effects.**
## Small note
    
While I haven't personally come across any crashes or lockups with this
version, I can't promise that they won't occur under any circumstances.

With that in mind,

## Installation

+ Unplug wheel from computer
+ `git clone this-repo`
+ `make`
+ `sudo make install`
+ Plug wheel back in
+ reboot (not strictly necessary, but recommended)
    
Done!

## Additional tidbits
    
+ Change range:
  
Write a value between 0 and 65535 to
/sys/bus/devices/XXXX:044F:B66E.XXX/range

+ Change autocenter and gain:

Use the default evdev ways, i.e. https://www.kernel.org/doc/html/v5.1/input/ff.html
    
<<<<<<< HEAD
    + Currently there is no support for this driver in oversteer(https://github.com/berarma/oversteer), but ffbwrap(https://github.com/berarma/ffbtools) should work.
    + If the wheel has a deadzone in games, you can set up a udev rule:
        `/etc/udev/rules.d/99-joydev.rules`:
        `SUBSYSTEM=="input", ATTRS{idVendor}=="044f", ATTRS{idProduct}=="b66e"

        RUN+="/usr/bin/evdev-joystick --evdev %E{DEVNAME} --deadzone 0"`
        This should make sure that the wheel behaves like you'd want from a
        wheel.
=======
+ Currently there is no support for this driver in oversteer(https://github.com/berarma/oversteer).
I opened a pull request to add support(to some degree) for this driver to ffbtools(https://github.com/berarma/ffbtools), but until it gets merged I have a repo here: https://github.com/Kimplul/ffbtools
>>>>>>> 8dcb9edbc14b9709e6b0d8b567211e4252191b1e
